{"beginning": {"content": "", "next": {"block_type": 2, "body": "0\n", "keyword": "global ", "name": "_dwz_low_mem_die_limit ", "next": {"block_type": 2, "body": "github\n", "keyword": "global ", "name": "provider        ", "next": {"block_type": 2, "body": "com\n", "keyword": "global ", "name": "provider_tld    ", "next": {"block_type": 2, "body": "ingvagabund\n", "keyword": "global ", "name": "project        \t", "next": {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}}, "comments": [{"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}], "conditions": [{"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}], "end": "\n", "headerTags": [{"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}, {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}], "macroConditions": [{"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}], "macroDefinitions": [{"block_type": 2, "body": "0\n", "keyword": "global ", "name": "_dwz_low_mem_die_limit ", "next": {"block_type": 2, "body": "github\n", "keyword": "global ", "name": "provider        ", "next": {"block_type": 2, "body": "com\n", "keyword": "global ", "name": "provider_tld    ", "next": {"block_type": 2, "body": "ingvagabund\n", "keyword": "global ", "name": "project        \t", "next": {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "github\n", "keyword": "global ", "name": "provider        ", "next": {"block_type": 2, "body": "com\n", "keyword": "global ", "name": "provider_tld    ", "next": {"block_type": 2, "body": "ingvagabund\n", "keyword": "global ", "name": "project        \t", "next": {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "com\n", "keyword": "global ", "name": "provider_tld    ", "next": {"block_type": 2, "body": "ingvagabund\n", "keyword": "global ", "name": "project        \t", "next": {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "ingvagabund\n", "keyword": "global ", "name": "project        \t", "next": {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "gofed\n", "keyword": "global ", "name": "repo            ", "next": {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%{provider}.%{provider_tld}/%{project}/%{repo}\n\n", "keyword": "global ", "name": "provider_prefix ", "next": {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "33207573a1875bc828da3f863e1de439d7af8166\n", "keyword": "global ", "name": "cmdsignature_commit ", "next": {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%(c=%{cmdsignature_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "cmdsignature_shortcommit ", "next": {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "c2e5b00ebc01616820e571aa554429b1461dc2c4\n", "keyword": "global ", "name": "gofedlib_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%(c=%{gofedlib_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedlib_shortcommit ", "next": {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "7e414c78930a81167dc2cd4d3e9adb79eeed38a6\n", "keyword": "global ", "name": "gofedresources_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%(c=%{gofedresources_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedresources_shortcommit ", "next": {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "6bff7ae54535689e2ade3d0bd3d33d903a2190b9\n", "keyword": "global ", "name": "gofedinfra_commit ", "next": {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%(c=%{gofedinfra_commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "gofedinfra_shortcommit ", "next": {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "48d80fe18e643be7bd3ebc6ece22a6a07bb188d1\n", "keyword": "global ", "name": "commit ", "next": {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "%(c=%{commit}; echo ${c:0:7})\n\n", "keyword": "global ", "name": "shortcommit     ", "next": {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "cmdsignature\n", "keyword": "global ", "name": "cmdsignature_repo ", "next": {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "gofedlib\n", "keyword": "global ", "name": "gofedlib_repo ", "next": {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, "options": null}, {"block_type": 2, "body": "resources\n", "keyword": "global ", "name": "gofedresources_repo ", "next": {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, "options": null}, {"block_type": 2, "body": "infra\n\n", "keyword": "global ", "name": "gofedinfra_repo ", "next": {"block_type": 6, "content": {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}, "else_body": [], "else_keyword": null, "end_keyword": "endif\n\n", "expression": "! 0%{?gobuild:1}\n", "keyword": "if ", "next": {"block_type": 0, "content": "\t\tgofed\n", "key": "Name", "next": {"block_type": 0, "content": "\t1.0.0\n", "key": "Version", "next": {"block_type": 0, "content": "\t0.9.rc1%{?dist}\n", "key": "Release", "next": {"block_type": 0, "content": "\tTool for development of golang devel packages\n", "key": "Summary", "next": {"block_type": 0, "content": "\tGPLv2+\n", "key": "License", "next": {"block_type": 0, "content": "\t\thttps://github.com/%{project}/%{repo}\n", "key": "URL", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{repo}/archive/%{commit}/%{repo}-%{shortcommit}.tar.gz\n", "key": "Source0", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{cmdsignature_repo}/archive/%{cmdsignature_commit}/%{cmdsignature_repo}-%{cmdsignature_shortcommit}.tar.gz\n", "key": "Source1", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedlib_repo}/archive/%{gofedlib_commit}/%{gofedlib_repo}-%{gofedlib_shortcommit}.tar.gz\n", "key": "Source2", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedresources_repo}/archive/%{gofedresources_commit}/%{gofedresources_repo}-%{gofedresources_shortcommit}.tar.gz\n", "key": "Source3", "next": {"block_type": 0, "content": "\thttps://github.com/%{project}/%{gofedinfra_repo}/archive/%{gofedinfra_commit}/%{gofedinfra_repo}-%{gofedinfra_shortcommit}.tar.gz\n\n", "key": "Source4", "next": {"block_type": 0, "content": "         set-correct-paths.patch\n\n", "key": "Patch0", "next": {"block_type": 5, "content": "# e.g. el6 has ppc64 arch without gcc-go, so EA tag is required\n", "next": {"block_type": 0, "content": "  %{?go_arches:%{go_arches}}%{!?go_arches:%{ix86} x86_64 %{arm}}\n", "key": "ExclusiveArch", "next": {"block_type": 5, "content": "# If go_compiler is not set to 1, there is no virtual provide. Use golang instead.\n", "next": {"block_type": 0, "content": "  %{?go_compiler:compiler(go-compiler)}%{!?go_compiler:golang}\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python >= 2.7.5\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-devel\n", "key": "BuildRequires", "next": {"block_type": 0, "content": "  python-setuptools\n\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5, bash, wget, rpmdevtools, rpmlint\n", "key": "Requires", "next": {"block_type": 0, "content": " coreutils, rpm-build, openssh-clients, tar\n\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-infra = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " bash-completion\n\n", "key": "Requires", "next": {"block_type": 0, "content": " gofed < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "option": null}}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}}, "options": null}, {"AP": [["! 0%{?gobuild:1}\n", 1]], "block_type": 2, "body": "go build -ldflags \"${LDFLAGS:-} -B 0x$(head -c20 /dev/urandom|od -An -tx1|tr -d ' \\\\n')\" -a -v -x %{?**}; \n", "keyword": "define ", "name": "gobuild", "next": null, "options": "(o:) "}], "sectionTags": [{"block_type": 1, "content": "\nTool to automize packaging of golang devel source codes.\nThe main goal is to automatize packaging, i.e. provide spec file generators,\ndiscovery of tests, imported and provided packages,\ncheck of up-to-date state of dependencies,\npreparation of review and\ncheck of spec file (gofed lint).\n\n", "keyword": "description", "name": null, "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Set of basic commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Set of build commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBuild gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Set of scan commands definitions\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nScan gofed commands definition\n\n", "keyword": "description ", "name": "cmd-dnfs-scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "cmd-dnfs-scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Implementation of base commands for gofed\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nBasic commands\n\n", "keyword": "description ", "name": "base", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "keyword": "package ", "name": "base\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for scanning golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-scan = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " graphviz\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-scan < 1.0.0\n\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scanning of golang project, i.e.\ncomparison of APIs of two golang projects,\ngenerator of xml files representing exported symbols and\nscan of golang packages and generator of dependency graph.\n\n", "keyword": "description ", "name": "scan", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "scan\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Set of commands for building golang projects\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name} = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-build = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " gofed-build < 1.0.0\n\n", "key": "Conflicts", "next": {"block_type": 1, "content": "\nSubpackage providing commands for scratch builds, builds,\npulls, pushes, updates, overrides and other commands\nthat can be used for package maitainance.\n\nThe commands support running one command on multiple branches at once.\n\n", "keyword": "description ", "name": "build", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "build\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Gofedlib\n", "key": "Summary", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-fedora python-jinja2 python-markupsafe python-PyGithub python2-hglib\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nGofedlib\n\n", "keyword": "description ", "name": "gofedlib", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "gofedlib\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Gofed resources\n", "key": "Summary", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python2-hglib\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed resources\n\n", "keyword": "description ", "name": "resources", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "resources\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Gofed infra\n", "key": "Summary", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python-jsonschema koji GitPython python-pycurl python2-hglib python-gitdb\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-gofedlib = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " %{name}-resources = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n\n", "key": "BuildArch", "next": {"block_type": 1, "content": "\nGofed infra\n\n", "keyword": "description ", "name": "infra", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "infra\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, "parameters": null}, {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, {"block_type": 1, "content": {"block_type": 0, "content": " Run gofed commands as a container\n", "key": "Summary", "next": {"block_type": 0, "content": " %{name}-cmd-dnfs-base = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " python-cmdsignature = %{version}-%{release}\n", "key": "Requires", "next": {"block_type": 0, "content": " docker\n", "key": "Requires", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " %{ix86} x86_64 %{arm} aarch64 ppc64le s390x %{mips}\n\n", "key": "ExclusiveArch", "next": {"block_type": 1, "content": "\nRun gofed commands as a container\n\n", "keyword": "description ", "name": "docker", "next": null, "parameters": null, "subname": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "docker\n", "next": {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, "parameters": null}, {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, {"block_type": 1, "content": {"block_type": 0, "content": " Command signature python module\n", "key": "Summary", "next": {"block_type": 0, "content": " noarch\n", "key": "BuildArch", "next": {"block_type": 0, "content": " PyYAML\n", "key": "BuildRequires", "next": {"block_type": 0, "content": " python >= 2.7.5\n", "key": "Requires", "next": {"block_type": 0, "content": " PyYAML\n\n", "key": "Requires", "next": {"block_type": 1, "content": "\nCommand signature python module\n\n", "keyword": "description ", "name": null, "next": null, "parameters": "n ", "subname": "python-cmdsignature"}, "option": null}, "option": null}, "option": null}, "option": null}, "option": null}, "keyword": "package ", "name": "python-cmdsignature\n", "next": {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n "}, {"block_type": 1, "content": "\n%setup -q -n %{cmdsignature_repo}-%{cmdsignature_commit} -T -b 1\n%setup -q -n %{gofedlib_repo}-%{gofedlib_commit} -T -b 2\n%setup -q -n %{gofedresources_repo}-%{gofedresources_commit} -T -b 3\n%setup -q -n %{gofedinfra_repo}-%{gofedinfra_commit} -T -b 4\n%setup -q -n %{repo}-%{commit}\n%patch0 -p1\n\n", "keyword": "prep", "name": null, "next": {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\npushd gofedlib/go/symbolsextractor\n%gobuild -o parseGo parseGo.go\npopd\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py build\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py build\npopd\n\n", "keyword": "build", "name": null, "next": {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n# install cmdsignature as standard python module\npushd ../%{cmdsignature_repo}-%{cmdsignature_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedlib_repo}-%{gofedlib_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedresources_repo}-%{gofedresources_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\npushd ../%{gofedinfra_repo}-%{gofedinfra_commit}\n%{__python2} setup.py install --skip-build --root %{buildroot}\npopd\n\n# copy command definitions under gofed-cmd-dnf-[base|build|scan]\nmkdir -p %{buildroot}/usr/share/%{name}/\ncp -rpav cmd %{buildroot}/usr/share/%{name}/.\ncp -pav *.py %{buildroot}/usr/share/%{name}/.\n\n# install binaries\ninstall -m 755 -d %{buildroot}/%{_bindir}\ncp -pav gofed %{buildroot}/usr/bin/gofed\ncp -pav gofed-docker %{buildroot}/usr/bin/gofed-docker\n\n# TODO: generate bash completion via cmdsignature\n# TODO: generate man pages via cmdsignature\n\ncp -r modules %{buildroot}/usr/share/%{name}/.\n# copy config\nmkdir -p %{buildroot}%{_sysconfdir}\ncp config/gofed.conf %{buildroot}%{_sysconfdir}/.\nmkdir -p %{buildroot}/usr/share/%{name}/config\ncp config/gofed.conf %{buildroot}/usr/share/%{name}/config/.\n# directory for local database\ninstall -m 755 -d %{buildroot}/%{_sharedstatedir}/%{name}\n# copy golang list and native imports\ncp -r data %{buildroot}%{_sharedstatedir}/%{name}/.\n# working directory under /var/lib/gofed\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_provider\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/resource_client\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/storage\ninstall -m 775 -d %{buildroot}/%{_sharedstatedir}/%{name}/simplefilestorage\n# man pages\nmkdir -p %{buildroot}/usr/share/man/man1\ncp docs/gofed.1 %{buildroot}/usr/share/man/man1/gofed.1\n\n", "keyword": "install", "name": null, "next": {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\nexport PYTHONPATH=%{buildroot}/%{python2_sitelib}:%{buildroot}/usr/share/gofed:%{buildroot}/usr/share\n./hack/test-cmd.sh\nrm $(find %{buildroot}/usr/share/%{name} -iname \"*.py[c|o]\")\nrm -r %{buildroot}/usr/share/%{name}/config\n\n", "keyword": "check", "name": null, "next": {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\ngetent group gofed >/dev/null || groupadd -r gofed\ngetent passwd gofed >/dev/null || useradd -r -g gofed -d / -s /sbin/nologin \\\n        -c \"Gofed user\" gofed\n\n#define license tag if not already defined\n", "keyword": "pre", "name": null, "next": {"block_type": 3, "condition": "!?", "content": "%global license %doc", "ending": "\n\n", "name": "_licensedir", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/README.md\n/usr/share/%{name}/cmd/repo2spec/*.yml\n/usr/share/%{name}/cmd/fetch/*.yml\n/usr/share/%{name}/cmd/create-tracker/*.yml\n/usr/share/%{name}/cmd/ggi/*.yml\n/usr/share/%{name}/cmd/inspect/*.yml\n/usr/share/%{name}/cmd/check-deps/*.yml\n/usr/share/%{name}/cmd/lint/*.yml\n/usr/share/%{name}/cmd/review-request/*.yml\n/usr/share/%{name}/cmd/clean-resources/*.yml\n/usr/share/%{name}/cmd/base.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.yml\n/usr/share/%{name}/cmd/bump-spec/*.yml\n/usr/share/%{name}/cmd/wizard/*.yml\n/usr/share/%{name}/cmd/build.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.yml\n/usr/share/%{name}/cmd/approx-deps/*.yml\n/usr/share/%{name}/cmd/scan-deps/*.yml\n/usr/share/%{name}/cmd/scan-distro/*.yml\n/usr/share/%{name}/cmd/scan-packages/*.yml\n/usr/share/%{name}/cmd/unit-test/*.yml\n/usr/share/%{name}/cmd/scan.yml\n\n", "keyword": "files ", "name": "cmd-dnfs-scan", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/version/version.py\n/usr/share/%{name}/cmd/repo2spec/*.py\n/usr/share/%{name}/cmd/repo2spec/bitbucket2gospec\n/usr/share/%{name}/cmd/repo2spec/github2gospec\n/usr/share/%{name}/cmd/repo2spec/googlecode2gospec\n/usr/share/%{name}/cmd/fetch/*.py\n/usr/share/%{name}/cmd/create-tracker/*.py\n/usr/share/%{name}/cmd/ggi/*.py\n/usr/share/%{name}/cmd/inspect/*.py\n/usr/share/%{name}/cmd/check-deps/*.py\n/usr/share/%{name}/cmd/lint/*.py\n/usr/share/%{name}/cmd/review-request/*.py\n/usr/share/%{name}/cmd/clean-resources/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-base_bash_completion\n/usr/share/man/man1/gofed.1.gz\n\n", "keyword": "files ", "name": "base", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/tools/*.py\n/usr/share/%{name}/cmd/tools/bbobranches\n/usr/share/%{name}/cmd/tools/build\n/usr/share/%{name}/cmd/tools/gcp\n/usr/share/%{name}/cmd/tools/pull\n/usr/share/%{name}/cmd/tools/push\n/usr/share/%{name}/cmd/tools/scratch-build\n/usr/share/%{name}/cmd/tools/update\n/usr/share/%{name}/cmd/bump-spec/*.py\n/usr/share/%{name}/cmd/wizard/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-build_bash_completion\n\n", "keyword": "files ", "name": "build", "next": {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n/usr/share/%{name}/cmd/goapidiff/*.py\n/usr/share/%{name}/cmd/approx-deps/*.py\n/usr/share/%{name}/cmd/scan-deps/*.py\n/usr/share/%{name}/cmd/scan-distro/*.py\n/usr/share/%{name}/cmd/scan-packages/*.py\n/usr/share/%{name}/cmd/unit-test/*.py\n#%{_sysconfdir}/bash_completion.d/gofed-scan_bash_completion\n\n", "keyword": "files ", "name": "scan", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedlib\n%{python2_sitelib}/gofedlib-?.?.???-py2.7.egg-info\n%{_bindir}/gofedlib-cli\n\n", "keyword": "files ", "name": "gofedlib", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedresources\n%{python2_sitelib}/gofedresources-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "resources", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/gofedinfra\n%{python2_sitelib}/gofedinfra-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": "infra", "next": {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n%license LICENSE \n%{python2_sitelib}/cmdsignature\n%{python2_sitelib}/cmdsignature-?.?.?-py2.7.egg-info\n\n", "keyword": "files ", "name": null, "next": {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, "parameters": "n ", "subname": "python-cmdsignature"}, {"block_type": 1, "content": "\n%{_bindir}/gofed-docker\n\n", "keyword": "files ", "name": "docker", "next": {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": "\n%license LICENSE\n%doc *.md\n%config(noreplace) /etc/gofed.conf\n/usr/share/%{name}/modules\n#%{_mandir}/man1/gofed.1.gz\n%attr(-, gofed, gofed) %{_sharedstatedir}/%{name}\n/usr/bin/%{name}\n/usr/share/%{name}/*.py\n\n", "keyword": "files", "name": null, "next": {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}, "parameters": null, "subname": null}, {"block_type": 1, "content": ["* Wed Mar 01 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.9.rc1\n- Provide a simple man page\n  resolves: #1426854\n\n", "* Fri Feb 10 2017 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-0.8.rc1\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_26_Mass_Rebuild\n\n", "* Wed Jan 25 2017 Jan Chaloupka <jchaloup@redhat.com> - 1.0.0-0.7.rc1\n- Bump to a7766e5587800fc3b49c46149605cd95a98eb31b\n  resolves: #1416407\n\n", "* Tue Dec 27 2016 Fabio Alessandro Locati <fale@fedoraproject.org> - 1.0.0-0.6.rc1\n- Compile the docker one only for supported arches\n\n", "* Tue Oct 04 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.5.rc1\n- create missing directories under /var/lib/gofed\n\n", "* Fri Sep 23 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.4.rc1\n- extend the list of known deps directories with vendor (upstream #117)\n\n", "* Thu Sep 22 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.3.rc1\n- Add missing deps, minor fixes\n\n", "* Wed Sep 21 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.2.rc1\n- Bump deps, conflict with older gofed\n\n", "* Sun Sep 18 2016 jchaloup <jchaloup@redhat.com> - 1.0.0-0.rc1.1\n- Update to gofed infrastructure\n\n", "* Thu Jul 21 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-5\n- https://fedoraproject.org/wiki/Changes/golang1.7\n\n", "* Wed Apr 06 2016 jchaloup <jchaloup@redhat.com> - 0.0.10-4\n- Define gobuild macro if not defined (for other distros without go-srpm-macros)\n\n", "* Mon Feb 22 2016 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.10-3\n- https://fedoraproject.org/wiki/Changes/golang1.6\n\n", "* Wed Feb 03 2016 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.10-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_24_Mass_Rebuild\n\n", "* Wed Nov 18 2015 jchaloup <jchaloup@redhat.com> - 0.0.10-1\n- Update to 0.0.10\n\n", "* Thu Sep 17 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-3\n- Bump to upstream 04cd8f0c083e3e80bbe17fc4acd2192a1628a5be\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-2\n- Define license macro if not defined\n\n", "* Thu Sep 10 2015 jchaloup <jchaloup@redhat.com> - 0.0.9-1\n- Updated to version 0.0.9\n\n", "* Mon Aug 31 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-3\n- Add -d option when copying symlinks. Otherwise symlinks are followed.\n\n", "* Sat Aug 29 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-2\n- Add missing symlinks\n\n", "* Fri Aug 21 2015 jchaloup <jchaloup@redhat.com> - 0.0.8-1\n- Updated to version 0.0.8\n\n", "* Sat Aug 01 2015 jchaloup <jchaloup@redhat.com> - 0.0.7-1\n- Updated to version 0.0.7\n\n", "* Sat Jul 11 2015 jchaloup <jchaloup@redhat.com> - 0.0.6-1\n- Updated to version 0.0.6\n\n", "* Tue Jun 23 2015 jchaloup <jchaloup@redhat.com> - 0.0.5-1\n- Updated to version 0.0.5\n\n", "* Wed Jun 17 2015 Fedora Release Engineering <rel-eng@lists.fedoraproject.org> - 0.0.4-2\n- Rebuilt for https://fedoraproject.org/wiki/Fedora_23_Mass_Rebuild\n\n", "* Tue Jun 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.4-1\n- Update to version 0.0.4\n  related: #1204614\n\n", "* Sat May 09 2015 jchaloup <jchaloup@redhat.com> - 0.0.3-1\n- Update to version 0.0.3\n  related: #1204614\n\n", "* Thu Apr 02 2015 jchaloup <jchaloup@redhat.com> - 0.0.1-0.1.git62b0051\n- Update to version 0.0.1\n  related: #1204614\n\n", "* Mon Mar 23 2015 jchaloup <jchaloup@redhat.com> - 0-0.1.gitcab0f0b\n- Initial commit for Fedora\n  resolves: #1204614"], "keyword": "changelog\n", "next": null}]}
